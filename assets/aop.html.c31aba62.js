import{_ as s,o as a,c as t,a as p}from"./app.96ddbfb7.js";const e={};function c(o,n){return a(),t("div",null,n[0]||(n[0]=[p(`<h1 id="\u76F8\u5173\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u76F8\u5173\u6CE8\u89E3" aria-hidden="true">#</a> \u76F8\u5173\u6CE8\u89E3</h1><h2 id="\u7C7B\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u6CE8\u89E3" aria-hidden="true">#</a> \u7C7B\u6CE8\u89E3</h2><ul><li>@Aspect\uFF1A\u4FEE\u9970\u5207\u9762\u7C7B\uFF0C\u9700\u8981\u540C\u65F6\u52A0@Compoent</li></ul><h2 id="\u65B9\u6CD5\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6CD5\u6CE8\u89E3" aria-hidden="true">#</a> \u65B9\u6CD5\u6CE8\u89E3</h2><ul><li>@Before\uFF1A\u4FEE\u9970\u5207\u70B9\u65B9\u6CD5</li><li>@After\uFF1A\u4FEE\u9970\u5207\u70B9\u65B9\u6CD5</li><li>@Around\uFF1A\u4FEE\u9970\u5207\u70B9\u65B9\u6CD5</li><li>@AfterReturning\uFF1A\u4FEE\u9970\u5207\u70B9\u65B9\u6CD5</li><li>@AfterThrowing\uFF1A\u4FEE\u9970\u5207\u70B9\u65B9\u6CD5</li><li>@Pointcut\uFF1A\u4FEE\u9970\u5207\u70B9\u65B9\u6CD5</li></ul><h1 id="springboot-\u5207\u9762\u914D\u5408\u81EA\u5B9A\u4E49\u6CE8\u89E3\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#springboot-\u5207\u9762\u914D\u5408\u81EA\u5B9A\u4E49\u6CE8\u89E3\u4F7F\u7528" aria-hidden="true">#</a> springboot \u5207\u9762\u914D\u5408\u81EA\u5B9A\u4E49\u6CE8\u89E3\u4F7F\u7528</h1><h2 id="_1-\u81EA\u5B9A\u4E49\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_1-\u81EA\u5B9A\u4E49\u6CE8\u89E3" aria-hidden="true">#</a> 1.\u81EA\u5B9A\u4E49\u6CE8\u89E3</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u5207\u9762\u7C7B" tabindex="-1"><a class="header-anchor" href="#_2-\u5207\u9762\u7C7B" aria-hidden="true">#</a> 2.\u5207\u9762\u7C7B</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Aspect</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">JoinPoint</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">ProceedingJoinPoint</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspectClass</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u5728\u52A0\u4E86\u6CE8\u89E3\u7684\u65B9\u6CD5\u6267\u884C\u524D\u6267\u884C
     */</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(myAspect)&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">MyAspect</span> myAspect<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u6CE8\u89E3\u65B9\u6CD5\u7684\u53C2\u6570</span>
        <span class="token class-name">Object</span> params <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// \u83B7\u53D6\u4F7F\u7528\u6CE8\u89E3\u7684\u503C</span>
        myAspect<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myAspect<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u5728\u52A0\u4E86\u6CE8\u89E3\u7684\u65B9\u6CD5\u6267\u884C\u540E\u6267\u884C
     */</span>
    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(myAspect)&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">MyAspect</span> myAspect<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u4F7F\u7528\u6CE8\u89E3\u7684\u503C</span>
        myAspect<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myAspect<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u53EF\u4EE5\u9009\u62E9\u6267\u884C\u524D\u8FD8\u662F\u6267\u884C\u540E
     */</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(myAspect)&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">MyAspect</span> myAspect<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6267\u884C\u524D</span>
        <span class="token comment">// \u83B7\u53D6\u4F7F\u7528\u6CE8\u89E3\u7684\u503C</span>
        myAspect<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myAspect<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6267\u884C\u539F\u6765\u7684\u65B9\u6CD5\uFF0C\u4E14\u53EF\u4EE5\u83B7\u5F97\u8FD4\u56DE\u503C</span>
        <span class="token class-name">Object</span> result <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6267\u884C\u540E</span>
        <span class="token comment">// \u83B7\u53D6\u4F7F\u7528\u6CE8\u89E3\u7684\u503C</span>
        myAspect<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myAspect<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u7ED3\u679C</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-\u4F7F\u7528" aria-hidden="true">#</a> 3.\u4F7F\u7528</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAspect</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@MyAspect</span><span class="token punctuation">(</span><span class="token string">&quot;\u6211\u662F\u5207\u9762&quot;</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">&quot;\u6211\u662F\u5207\u9762&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12)]))}var l=s(e,[["render",c],["__file","aop.html.vue"]]);export{l as default};
