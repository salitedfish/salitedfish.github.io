import{_ as e,r as p,o,c,b as s,d as a,e as l,a as i}from"./app.96ddbfb7.js";var u="/assets/webgl_process.002ffe69.png";const r={},d={href:"http://www.yanhuangxueyuan.com/WebGL/",target:"_blank",rel:"noopener noreferrer"};function k(m,n){const t=p("ExternalLinkIcon");return o(),c("div",null,[n[4]||(n[4]=s("h4",{id:"\u7B80\u4ECB",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u7B80\u4ECB","aria-hidden":"true"},"#"),a(" \u7B80\u4ECB")],-1)),s("ul",null,[n[1]||(n[1]=s("li",null,"canvas\u662Fhtml5\u63D0\u4F9B\u7684\u7528\u6765\u7ED8\u5236\u56FE\u5F62\u7684\u5143\u7D20\uFF0C\u540C\u65F6\u652F\u6301\u7ED8\u5236\u4E8C\u7EF4\u548C\u4E09\u7EF4\u56FE\u5F62\uFF0C\u5B83\u4E0D\u76F4\u63A5\u63D0\u4F9B\u7ED8\u56FE\u65B9\u6CD5\uFF0C\u800C\u662F\u63D0\u4F9B\u4E00\u79CD\u53EB\u4E0A\u4E0B\u6587(context)\u673A\u5236\u6765\u7ED8\u5236\u56FE\u5F62",-1)),n[2]||(n[2]=s("li",null,"WebGL\u9700\u8981\u4F7F\u7528GLSL ES\u7740\u8272\u5668\u8BED\u8A00",-1)),s("li",null,[s("a",d,[n[0]||(n[0]=a("WebGL\u6559\u7A0B")),l(t)])]),n[3]||(n[3]=s("li",null,[a("WebGL\u6D41\u7A0B "),s("img",{src:u,alt:""})],-1))]),n[5]||(n[5]=i(`<h4 id="\u7740\u8272\u5668\u8BED\u8A00" tabindex="-1"><a class="header-anchor" href="#\u7740\u8272\u5668\u8BED\u8A00" aria-hidden="true">#</a> \u7740\u8272\u5668\u8BED\u8A00</h4><p>\u7740\u8272\u5668\u8BED\u8A00\u7528\u4E8E\u8BA1\u7B97\u673A\u56FE\u5F62\u7F16\u7A0B\uFF0C\u8FD0\u884C\u5728GPU\u4E2D\uFF0C\u5E73\u65F6\u6240\u8BF4\u7684\u5927\u591A\u6570\u8BED\u8A00\u7F16\u5199\u7684\u7A0B\u5E8F\u90FD\u662F\u8FD0\u884C\u5728CPU\u4E2D\u3002 \u4E0EOpenGL API\u76F8\u914D\u5408\u7684\u662F\u7740\u8272\u5668\u8BED\u8A00GLSL\uFF0C\u4E0EOpenGL ES API\u3001WebGL API\u76F8\u4E92\u914D\u5408\u7684\u662F\u7740\u8272\u5668\u8BED\u8A00GLSL ES\u3002OpenGL\u6807\u51C6\u5E94\u7528\u7684\u662F\u5BA2\u6237\u7AEF OpenGL ES\u5E94\u7528\u7684\u662F\u79FB\u52A8\u7AEF\uFF0CWebGL\u6807\u51C6\u5E94\u7528\u7684\u662F\u6D4F\u89C8\u5668\u5E73\u53F0\u3002</p><h4 id="\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u7528\u6CD5" aria-hidden="true">#</a> \u7528\u6CD5</h4><p>\u5148\u521B\u5EFAcancas dom</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>targetCanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>js\u83B7\u53D6dom\u8282\u70B9</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;targetCanvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u83B7\u53D6\u7ED8\u5236\u4E8C\u7EF4\u4E0A\u4E0B\u6587</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//canvas.getContext(contextType, contextAttributes)</span>
<span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9876\u70B9\u7740\u8272\u5668\u4EE3\u7801<br><span style="color:#3eaf7c;">\u9876\u70B9\u7740\u8272\u5668</span>\u5B9A\u4E49\u4E86\u9876\u70B9\u7684\u6E32\u67D3\u4F4D\u7F6E\u548C\u70B9\u7684\u6E32\u67D3<span style="color:#3eaf7c;">\u50CF\u7D20\u5927\u5C0F</span></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> vertexShaderSource <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;void main(){&#39;</span> <span class="token operator">+</span>
    <span class="token comment">//\u7ED9\u5185\u7F6E\u53D8\u91CFgl_PointSize\u8D4B\u503C\u50CF\u7D20\u5927\u5C0F</span>
    <span class="token string">&#39;   gl_PointSize=20.0;&#39;</span> <span class="token operator">+</span>
    <span class="token comment">//\u9876\u70B9\u4F4D\u7F6E\uFF0C\u4F4D\u4E8E\u5750\u6807\u539F\u70B9</span>
    <span class="token string">&#39;   gl_Position =vec4(0.0,0.0,0.0,1.0);&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;}&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7247\u5143\u7740\u8272\u5668\u4EE3\u7801<br><span style="color:#3eaf7c;">\u7247\u5143\u7740\u8272\u5668</span>\u5B9A\u4E49\u4E86\u70B9\u7684\u6E32\u67D3\u7ED3\u679C\u50CF\u7D20\u7684<span style="color:#3eaf7c;">\u989C\u8272\u503C</span></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> fragShaderSource <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;void main(){&#39;</span> <span class="token operator">+</span>
    <span class="token comment">//\u5B9A\u4E49\u7247\u5143\u989C\u8272</span>
    <span class="token string">&#39;   gl_FragColor = vec4(1.0,0.0,0.0,1.0);&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;}&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9876\u70B9\u7740\u8272\u5668\u548C\u7247\u5143\u7740\u8272\u5668\u7ECF\u8FC7WebGL\u7F16\u8BD1\u5904\u7406\u540E\uFF0C\u4F1A\u5728GPU\u7684\u9876\u70B9\u7740\u8272\u5668\u5355\u5143\u548C\u7247\u5143\u7740\u8272\u5668\u5355\u5143\u4E0A\u6267\u884C\u3002gl_PointSize\u3001gl_Position\u3001gl_FragColor\u90FD\u662F\u5185\u7F6E\u53D8\u91CF\uFF0C\u4E0D\u9700\u8981\u58F0\u660E\u3002<br> \u521D\u59CB\u5316\u7740\u8272\u5668</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//\u521D\u59CB\u5316\u7740\u8272\u5668</span>
<span class="token keyword">let</span> program <span class="token operator">=</span> <span class="token function">initShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span>vertexShaderSource<span class="token punctuation">,</span>fragShaderSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u5F00\u59CB\u7ED8\u5236\uFF0C\u663E\u793A\u5668\u663E\u793A\u7ED3\u679C</span>
gl<span class="token punctuation">.</span><span class="token function">drawArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">POINTS</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u58F0\u660E\u521D\u59CB\u5316\u7740\u8272\u5668\u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">initShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span>vertexShaderSource<span class="token punctuation">,</span>fragmentShaderSource<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//\u521B\u5EFA\u9876\u70B9\u7740\u8272\u5668\u5BF9\u8C61</span>
    <span class="token keyword">var</span> vertexShader <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">VERTEX_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u7247\u5143\u7740\u8272\u5668\u5BF9\u8C61</span>
    <span class="token keyword">var</span> fragmentShader <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createShader</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">FRAGMENT_SHADER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u5F15\u5165\u9876\u70B9\u3001\u7247\u5143\u7740\u8272\u5668\u6E90\u4EE3\u7801</span>
    gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>vertexShader<span class="token punctuation">,</span>vertexShaderSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gl<span class="token punctuation">.</span><span class="token function">shaderSource</span><span class="token punctuation">(</span>fragmentShader<span class="token punctuation">,</span>fragmentShaderSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7F16\u8BD1\u9876\u70B9\u3001\u7247\u5143\u7740\u8272\u5668</span>
    gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>vertexShader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gl<span class="token punctuation">.</span><span class="token function">compileShader</span><span class="token punctuation">(</span>fragmentShader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u7A0B\u5E8F\u5BF9\u8C61program</span>
    <span class="token keyword">var</span> program <span class="token operator">=</span> gl<span class="token punctuation">.</span><span class="token function">createProgram</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u9644\u7740\u9876\u70B9\u7740\u8272\u5668\u548C\u7247\u5143\u7740\u8272\u5668\u5230program</span>
    gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span>vertexShader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gl<span class="token punctuation">.</span><span class="token function">attachShader</span><span class="token punctuation">(</span>program<span class="token punctuation">,</span>fragmentShader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u94FE\u63A5program</span>
    gl<span class="token punctuation">.</span><span class="token function">linkProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u4F7F\u7528program</span>
    gl<span class="token punctuation">.</span><span class="token function">useProgram</span><span class="token punctuation">(</span>program<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8FD4\u56DE\u7A0B\u5E8Fprogram\u5BF9\u8C61</span>
    <span class="token keyword">return</span> program<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15))])}var g=e(r,[["render",k],["__file","3d.html.vue"]]);export{g as default};
